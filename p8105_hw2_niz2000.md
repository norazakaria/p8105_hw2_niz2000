p8105\_hw2\_niz2000
================
Nora Zakaria
10/4/2019

``` r
library(tidyverse)
```

    ## ── Attaching packages ──────────────────────────────────────────────────────────────── tidyverse 1.2.1 ──

    ## ✔ ggplot2 3.2.1     ✔ purrr   0.3.2
    ## ✔ tibble  2.1.3     ✔ dplyr   0.8.3
    ## ✔ tidyr   1.0.0     ✔ stringr 1.4.0
    ## ✔ readr   1.3.1     ✔ forcats 0.4.0

    ## ── Conflicts ─────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()

# Problem 1

## Read and Clean the Mr. Trash Wheel Sheet

``` r
library(readxl)
Trash_Wheel_Data = read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 1) %>%
  janitor::clean_names() %>%
  drop_na(dumpster) %>%
  select(-x15, -x16, -x17) %>%
  mutate(sports_balls = as.integer(round(sports_balls,0)))
```

    ## New names:
    ## * `` -> ...15
    ## * `` -> ...16
    ## * `` -> ...17

## Read and Clean Precipitation Data for 2017 and 2018

``` r
Precipitation_2018 = read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 5, skip=1) %>%
  janitor::clean_names() %>%
  drop_na() %>%
  mutate(Year = 2018)
```

``` r
Precipitation_2017 = read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 6, skip=1) %>%
  janitor::clean_names() %>%
  drop_na() %>%
  mutate(Year = 2017)
```

``` r
Precipitation_Data = bind_rows(Precipitation_2018, Precipitation_2017) %>%
  janitor::clean_names() %>%
  mutate(
    month = as.numeric(month),
    month = month.abb[month])
```

## About The Data

There are 344 observations in the dataset “Trash\_Wheel\_Data.” There
are 24 observations in the dataset “Precipitation\_Data,” including 2017
and 2018 precipitation data. In order to perform this analysis, several
key variables for both datasets were identified. In the
Trash\_Wheel\_Data set, we are interested in “year,” “month,” “sports
balls,” “weight,” “volume,” and “homes powered.” In the
Precipitation\_Data set, we are interested in the variables “month” and
“total” which demonstrates the amount of precipitation in inches, each
month. The variable “month” is present in both the Trash\_Wheel\_Data
and Precipitation\_Data datasets, and are both numeric. For the
available data, the total amount of precipitation in inches was 70.33
for 2018. The median number of sports balls in a dumpster in 2017 was 8.

# Problem 2

### Cleaning the Data in pols-month.csv

``` r
pols = 
  read_csv(file = "./data/fivethirtyeight_datasets/pols-month.csv") %>%
  janitor::clean_names() %>%
  separate(mon, into = c("year", "month", "day")) %>%
  mutate(
    month = as.numeric(month),
    month = month.abb[month],
    prez_gop = recode(prez_gop, `1` = "gop", `2` = "gop", `0` = "dem"), 
    president = prez_gop) %>%
  select (-prez_dem, -prez_gop, -day)
```

    ## Parsed with column specification:
    ## cols(
    ##   mon = col_date(format = ""),
    ##   prez_gop = col_double(),
    ##   gov_gop = col_double(),
    ##   sen_gop = col_double(),
    ##   rep_gop = col_double(),
    ##   prez_dem = col_double(),
    ##   gov_dem = col_double(),
    ##   sen_dem = col_double(),
    ##   rep_dem = col_double()
    ## )

``` r
pols
```

    ## # A tibble: 822 x 9
    ##    year  month gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##    <chr> <chr>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ##  1 1947  Jan        23      51     253      23      45     198 dem      
    ##  2 1947  Feb        23      51     253      23      45     198 dem      
    ##  3 1947  Mar        23      51     253      23      45     198 dem      
    ##  4 1947  Apr        23      51     253      23      45     198 dem      
    ##  5 1947  May        23      51     253      23      45     198 dem      
    ##  6 1947  Jun        23      51     253      23      45     198 dem      
    ##  7 1947  Jul        23      51     253      23      45     198 dem      
    ##  8 1947  Aug        23      51     253      23      45     198 dem      
    ##  9 1947  Sep        23      51     253      23      45     198 dem      
    ## 10 1947  Oct        23      51     253      23      45     198 dem      
    ## # … with 812 more rows

### Cleaning the Data in snp.csv

``` r
snp = 
  read_csv(file = "./data/fivethirtyeight_datasets/snp.csv") %>%
  janitor::clean_names() %>%
  separate(date, into = c("month", "day", "year")) %>%
  mutate(
    month = as.numeric(month),
    month = month.abb[month]) %>%
  select (starts_with ("year"), everything(), -day)
```

    ## Parsed with column specification:
    ## cols(
    ##   date = col_character(),
    ##   close = col_double()
    ## )

``` r
snp
```

    ## # A tibble: 787 x 3
    ##    year  month close
    ##    <chr> <chr> <dbl>
    ##  1 2015  Jul   2080.
    ##  2 2015  Jun   2063.
    ##  3 2015  May   2107.
    ##  4 2015  Apr   2086.
    ##  5 2015  Mar   2068.
    ##  6 2015  Feb   2104.
    ##  7 2015  Jan   1995.
    ##  8 2014  Dec   2059.
    ##  9 2014  Nov   2068.
    ## 10 2014  Oct   2018.
    ## # … with 777 more rows

### Tidy the Unemployment Data

``` r
unemployment =
  read_csv(file = "./data/fivethirtyeight_datasets/unemployment.csv") %>%
  pivot_longer(
    Jan:Dec, 
    names_to = "month",
    values_to = "unemployment rate") %>%
  janitor::clean_names() %>%
  mutate(year = as.character(year)) %>%
  drop_na()
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_double(),
    ##   Jan = col_double(),
    ##   Feb = col_double(),
    ##   Mar = col_double(),
    ##   Apr = col_double(),
    ##   May = col_double(),
    ##   Jun = col_double(),
    ##   Jul = col_double(),
    ##   Aug = col_double(),
    ##   Sep = col_double(),
    ##   Oct = col_double(),
    ##   Nov = col_double(),
    ##   Dec = col_double()
    ## )

``` r
unemployment
```

    ## # A tibble: 810 x 3
    ##    year  month unemployment_rate
    ##    <chr> <chr>             <dbl>
    ##  1 1948  Jan                 3.4
    ##  2 1948  Feb                 3.8
    ##  3 1948  Mar                 4  
    ##  4 1948  Apr                 3.9
    ##  5 1948  May                 3.5
    ##  6 1948  Jun                 3.6
    ##  7 1948  Jul                 3.6
    ##  8 1948  Aug                 3.9
    ##  9 1948  Sep                 3.8
    ## 10 1948  Oct                 3.7
    ## # … with 800 more rows

## Join the Datasets Pols and SNP

``` r
pols_snp = 
  left_join(pols, snp, by = c("year", "month"))
pols_snp
```

    ## # A tibble: 822 x 10
    ##    year  month gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##    <chr> <chr>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ##  1 1947  Jan        23      51     253      23      45     198 dem      
    ##  2 1947  Feb        23      51     253      23      45     198 dem      
    ##  3 1947  Mar        23      51     253      23      45     198 dem      
    ##  4 1947  Apr        23      51     253      23      45     198 dem      
    ##  5 1947  May        23      51     253      23      45     198 dem      
    ##  6 1947  Jun        23      51     253      23      45     198 dem      
    ##  7 1947  Jul        23      51     253      23      45     198 dem      
    ##  8 1947  Aug        23      51     253      23      45     198 dem      
    ##  9 1947  Sep        23      51     253      23      45     198 dem      
    ## 10 1947  Oct        23      51     253      23      45     198 dem      
    ## # … with 812 more rows, and 1 more variable: close <dbl>

## Join the Datasets Pols\_SNP and Unemployment

``` r
pols_snp_unemployment = 
  left_join(pols_snp, unemployment, by = c("year", "month"))
pols_snp_unemployment
```

    ## # A tibble: 822 x 11
    ##    year  month gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##    <chr> <chr>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ##  1 1947  Jan        23      51     253      23      45     198 dem      
    ##  2 1947  Feb        23      51     253      23      45     198 dem      
    ##  3 1947  Mar        23      51     253      23      45     198 dem      
    ##  4 1947  Apr        23      51     253      23      45     198 dem      
    ##  5 1947  May        23      51     253      23      45     198 dem      
    ##  6 1947  Jun        23      51     253      23      45     198 dem      
    ##  7 1947  Jul        23      51     253      23      45     198 dem      
    ##  8 1947  Aug        23      51     253      23      45     198 dem      
    ##  9 1947  Sep        23      51     253      23      45     198 dem      
    ## 10 1947  Oct        23      51     253      23      45     198 dem      
    ## # … with 812 more rows, and 2 more variables: close <dbl>,
    ## #   unemployment_rate <dbl>

## About The Data

Explain briefly what each dataset contained, and describe the resulting
dataset (e.g. give the dimension, range of years, and names of key
variables).

# Problem 3

## Tidy the Popular\_Baby\_Names Dataset

``` r
Popular_Baby_Names = 
  read_csv(file = "data/Popular_Baby_Names.csv") %>%
  janitor::clean_names() %>%
  rename(
    first_name = childs_first_name,
    birth_year = year_of_birth) %>%
  mutate(
    first_name = str_to_lower(first_name),
    ethnicity = str_to_lower(ethnicity),
    gender = str_to_lower(gender)) %>%
  mutate(
    ethnicity = if_else(ethnicity == "asian and paci", "asian and pacific islander", ethnicity),
    ethnicity = if_else(ethnicity == "black non hisp", "black non hispanic", ethnicity),
    ethnicity = if_else(ethnicity == "white non hisp", "white non hispanic", ethnicity)) %>%
  distinct()
```

    ## Parsed with column specification:
    ## cols(
    ##   `Year of Birth` = col_double(),
    ##   Gender = col_character(),
    ##   Ethnicity = col_character(),
    ##   `Child's First Name` = col_character(),
    ##   Count = col_double(),
    ##   Rank = col_double()
    ## )

``` r
Popular_Baby_Names
```

    ## # A tibble: 12,181 x 6
    ##    birth_year gender ethnicity                  first_name count  rank
    ##         <dbl> <chr>  <chr>                      <chr>      <dbl> <dbl>
    ##  1       2016 female asian and pacific islander olivia       172     1
    ##  2       2016 female asian and pacific islander chloe        112     2
    ##  3       2016 female asian and pacific islander sophia       104     3
    ##  4       2016 female asian and pacific islander emily         99     4
    ##  5       2016 female asian and pacific islander emma          99     4
    ##  6       2016 female asian and pacific islander mia           79     5
    ##  7       2016 female asian and pacific islander charlotte     59     6
    ##  8       2016 female asian and pacific islander sarah         57     7
    ##  9       2016 female asian and pacific islander isabella      56     8
    ## 10       2016 female asian and pacific islander hannah        56     8
    ## # … with 12,171 more rows

## Table Demontrating Rank in Popularity of “Olivia”

``` r
Olivia = Popular_Baby_Names %>%
  filter(first_name == "olivia") %>%
  select(birth_year, ethnicity, rank) %>%
  arrange(birth_year) %>%
  pivot_wider(
    names_from = "birth_year",
    values_from = "rank")
library(knitr)
kable(Olivia)
```

| ethnicity                  | 2011 | 2012 | 2013 | 2014 | 2015 | 2016 |
| :------------------------- | ---: | ---: | ---: | ---: | ---: | ---: |
| asian and pacific islander |    4 |    3 |    3 |    1 |    1 |    1 |
| black non hispanic         |   10 |    8 |    6 |    8 |    4 |    8 |
| hispanic                   |   18 |   22 |   22 |   16 |   16 |   13 |
| white non hispanic         |    2 |    4 |    1 |    1 |    1 |    1 |

## Table Demonstrating Most Popular Male Name

``` r
Male = Popular_Baby_Names %>%
  filter(
    gender == "male",
    rank == "1") %>%
  select(birth_year, first_name, ethnicity) %>%
  arrange(birth_year) %>%
  pivot_wider(
    names_from = "birth_year",
    values_from = "first_name")
kable(Male)
```

| ethnicity                  | 2011    | 2012   | 2013   | 2014   | 2015   | 2016   |
| :------------------------- | :------ | :----- | :----- | :----- | :----- | :----- |
| asian and pacific islander | ethan   | ryan   | jayden | jayden | jayden | ethan  |
| black non hispanic         | jayden  | jayden | ethan  | ethan  | noah   | noah   |
| hispanic                   | jayden  | jayden | jayden | liam   | liam   | liam   |
| white non hispanic         | michael | joseph | david  | joseph | david  | joseph |

## Scatter Plot Demonstrating Name Popularity

``` r
male_white_children = Popular_Baby_Names %>%
  filter(
    gender == "male",
    birth_year == "2016",
    ethnicity == "white non hispanic")
ggplot(male_white_children, aes(x = rank, y = count)) + geom_point()
```

![](p8105_hw2_niz2000_files/figure-gfm/unnamed-chunk-14-1.png)<!-- -->
